import{A as x,B as v,D as F,K as R,a as o,o as i,p as u,r as c,s as d,u as p,w as f,x as y,z as g}from"./chunk-Z3ZARIDP.js";i();i();i();i();var w=o(e=>c()>=e.showAfter,"executeVisitFilter");i();var C=o(()=>{var r;let e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(((r=window==null?void 0:window.navigator)==null?void 0:r.userAgent)||""),t=window.matchMedia&&window.matchMedia("(max-width: 767px)").matches;return e||t},"isMobile"),T=o(e=>!e||e==="all"?!0:C()?e==="mobile":e==="desktop","executeDeviceTypeFilter");i();i();function h(e){let t=e.includePageTypes;return e.showOnAllPageTypes||!t?{shouldTrigger:!0,delay:e.delay}:{shouldTrigger:t==null?void 0:t.includes(p()),delay:e.delay}}o(h,"executePageTypeRule");i();var E=o(e=>{let t=o(n=>{n.clientY<=150&&(window.ShopifyForms={...window.ShopifyForms,triggerExitIntent:!0},e(),document.dispatchEvent(r),document.removeEventListener("mouseleave",t))},"handler"),r=new Event("forms:exit-intent");document.addEventListener("mouseleave",t)},"detectExitIntent");i();var b=o(async(e,t)=>{let{triggers:r,filters:n}=e;if(!r.navigation||!T(n.device))return;let m=h(r.navigation);!m.shouldTrigger||(r.displayDetectLeave&&E(t),!(n.visit?w(n.visit):!0))||(await u(m.delay),t())},"executeDisplayRules");y(!1);var P=o(async(e,t,r)=>{let{setupApp:n}=await import("./App-XZKZLZFY.js");n(e,t,r)},"importAndRenderApp");(async()=>{try{let t=await new v().getInstances();if(!t)return;let{id:r,styles:n,formDefinition:l,displayRules:m}=t;if(R(r)){await P(r,n,g(l));return}if(new F(r).isFormDismissed())return;d(),b(m,async()=>{await P(r,n,l)})}catch(e){if(e instanceof x&&e.status===404)return;f.notify(new Error(e))}})();
//# sourceMappingURL=index.js.map
